<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#222222">

  <title>Notification Examples | Web Push Book</title>
  <meta name="description" content="This is a set of example notifications that
  are referenced throughout the web push book content.">

  <!-- Stylesheet -->
  <link href="/jekyll/styles/main.css" rel="stylesheet" type="text/css">
  <link href="styles/demo.css" rel="stylesheet" type="text/css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Comfortaa:400,700|Open+Sans|Inconsolata" rel="stylesheet">
</head>

<body>
  <header>
    <h1>Notification Examples</h1>
  </header>

  <main>
    <h2>Notification Options</h2>

    <p>This page contains a set of example notifications that you can interact
    with to see what is possible with notifications.</p>

    <p>Clicking on the buttons below will show one notification to
    demonstrate a particular options in the notification API.</p>

    <p>If you just want to see what a notification looks like in your browser
    with <strong>all</strong> the UI options set, click the button below.</p>

    <p class="demo-btns">
      <button class="js-notification-overview" disabled>Example Notification</button>
    </p>

    <p>The buttons will be enabled if the browser has support for the feature
      being demonstrated. If the button is grey, then it's not supported on
      your browser.</p>

    <h3>Desktop &amp; Mobile</h3>

    <p>The following examples are known to work on both Desktop and Mobile in
      Chrome.</p>

    <h6>Title &amp; Body</h6>
    <p>Basic example of a notification with a basic title and body.</p>
    <p class="demo-btns">
      <button class="js-notification-title-body" disabled>Title &amp; Body</button>
      <button class="js-notification-long-title-body" disabled>Long Title &amp; Body</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#title-and-body-options">Details &amp; Code</a>
    </p>

    <h6>Notification Icon</h6>
    <p>The icon on a notification is the image to the left of the title and
    body text.</p>
    <p class="demo-btns">
      <button class="js-notification-icon" disabled>Icon</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#icon">Details &amp; Code</a>
    </p>

    <h6>Notification Image</h6>
    <p>A notification image should be used to display a larger image in the the
      main body of the notification. At the time of writing this is behind the
      experimental web platform feature in Chrome and the results vary between
      Android and Desktop.</p>
    <p class="demo-btns">
      <button class="js-notification-image" disabled>Image</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#image">Details &amp; Code</a>
    </p>

    <h6>Action Buttons</h6>
    <p>Actions allow you to add buttons to a notification so multiple
      actions can be performed by your user.</p>
    <p>At the time of writing, Android will make the icons (if defined)
      a color that matches the current UI. Desktop Chrome will display the icon
      as is.</p>
    <p class="demo-btns">
      <button class="js-notification-actions" disabled>Actions</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#actions">Details &amp; Code</a>
    </p>

    <h6>Language Direction</h6>
    <p>You can set a "dir" option to indicate if the test should be displayed
    "left-to-right" or "right-to-left".</p>
    <p class="demo-btns">
      <button class="js-notification-dir-ltr" disabled>Direction: LTR</button>
      <button class="js-notification-dir-rtl" disabled>Direction: RTL</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#direction">Details &amp; Code</a>
    </p>

    <h6>Tag</h6>
    <p>Defining a tag for a notification means that when a new Notification
    is shown with the same tag, any old notifications with that tag are
    removed before the new notification is shown.</p>
    <p class="demo-btns">
      <button class="js-notification-tag" disabled>Tag</button>
      <a class="button details-btn" href="/chapter-05/03-notification-behaviour/#tag">Details &amp; Code</a>
    </p>

    <h6>Renotify</h6>
    <p>When you use the tag option, the default behavior of a new notification
    replacing an existing one is that there is no sound, vibration and the
    screen is kept asleep.</p>

    <p>With `renotify: true` a new notification will play a sound, vibrate
    and wake up the users device. This means replacing notifications have
    the same behavior as a completely new notification.</p>

    <p><i>Note:</i> There is no
    visible affect on desktop, but on mobile, vibration and sound will be
    affected.</p>
    <p class="demo-btns">
      <button class="js-notification-renotify" disabled>Renotify</button>
      <a class="button details-btn" href="/chapter-05/03-notification-behaviour/#renotify">Details &amp; Code</a>
    </p>

    <h6>Silent</h6>
    <p>When a new notification arrives, by default, it plays a sound, vibrates
    and wakes up the screen. Setting the silent parameter means that
    the notification is displayed, but there is none of the default behaviors
    like sound, vibration and screen wake.</p>
    <p class="demo-btns">
      <button class="js-notification-silent" disabled>Silent</button>
      <a class="button details-btn" href="/chapter-05/03-notification-behaviour/#silent">Details &amp; Code</a>
    </p>

    <h6>Require Interaction</h6>
    <p>On desktop, a notification is only displayed for a short period of time.
    On Android, notifications are shown until the user interacts with it.</p>
    <p>To get the same behaviour on desktop and mobile you can set the
    "require-interaction" option to true, which means the user
    <strong>must</strong> click or dismiss the notification.</p>
    <p class="demo-btns">
      <button class="js-notification-require-interaction" disabled>Require Interaction</button>
      <a class="button details-btn" href="/chapter-05/03-notification-behaviour/#requires-interaction">Details &amp; Code</a>
    </p>


    <h3>Mobile Only</h3>

    <p>These fields aren't <i>strictly</i> mobile only. A desktop browser
    <i>could</i> use these fields if it want to, but at the moment
    they don't. For this reason, you'll need to use a mobile device to
    see what the options do.</p>

    <h6>Notification Badge</h6>
    <p>Notification badges are only being used on mobile, at least at the time
    of writing. It's used to replace the browser icon that is shown by default.
    </p>
    <p class="demo-btns">
      <button class="js-notification-badge" disabled>Badge</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#badge">Details &amp; Code</a>
    </p>

    <h6>Vibration</h6>
    <p>You can define a pattern of vibrations to make a tune. This only
    applies to mobile devices since laptops tend not to vibrate.</p>
    <p class="demo-btns">
      <button class="js-notification-vibrate" disabled>Vibrate</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#vibrate">Details &amp; Code</a>
    </p>

    <h3>Other Options</h3>
    <h6>Timestamp</h6>
    <p>At the time of writing, there is no visible affect to notifications
    with a custom timestamp.</p>
    <p class="demo-btns">
      <button class="js-notification-timestamp" disabled>Timestamp</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#timestamp">Details &amp; Code</a>
    </p>

    <h6>Sound</h6>
    <p>The sound option has been defined, but at the time of writing no browser
    has implemented it yet.</p>
    <p class="demo-btns">
      <button class="js-notification-sound" disabled>Sound</button>
      <a class="button details-btn" href="/chapter-05/02-display-a-notification/#sound">Details &amp; Code</a>
    </p>

    <h2>Notification Common Practices</h2>

    <p>The following links are examples of common patterns on the web.
    For example, a common use case is for a web page to be opened when
    a user clicks on a notification.</p>

    <h6>Open a Window</h6>
    <p>This example simply demonstrates opening a URL after the user has
    clicked on a notification.</p>
    <p class="demo-btns">
      <button class="js-open-window" disabled>Open Window</button>
      <a class="button details-btn" href="/chapter-05/04-common-notification-patterns/#open-a-window">Details &amp; Code</a>
    </p>

    <h6>Focus a Window or Open</h6>
    <p>This example is similar to "Open a Window", except that it checks
    if there is already a window open at that URL and if not, it opens
    it.</p>

    <p>To see this, try clicking the button below, then clicking the
      notification to open a new window. Repeat clicking the button and
      notification and notice that the originally open window will be
      focused rather than open a new window.</p>

    <p class="demo-btns">
      <button class="js-focus-window" disabled>Focus a Window OR Open</button>
      <a class="button details-btn" href="/chapter-05/04-common-notification-patterns/#focus-an-existing-window">Details &amp; Code</a>
    </p>

    <h6>Adding Data to a Notification</h6>
    <p>This is a trivial example. When the notification is shown it is given
    a <code>data</code> parameter in the <code>showNotification()</code>
    options. When the notification is clicked, it prints this data to the
    console.</p>
    <p>This data attribute is incredibly useful for passing information
      from the time when a notification is shown, to when a notification is
      clicked.</p>
    <p class="demo-btns">
      <button class="js-data-notification" disabled>Adding Data to Notification</button>
      <a class="button details-btn" href="/chapter-05/04-common-notification-patterns/#adding-data-to-a-notification">Details &amp; Code</a>
    </p>

    <h6>Merging Notifications Programmatically</h6>
    <p>In the <code>tag</code> example above, we saw how it affects
    multiple notifications being shown (i.e. replacing notifications with
    the same tag). But there may be scenarios where you want to manage
    the merging / collapsing of notifications with custom logic.</p>
    <p>This example demonstrates how notifications can be iterated over and
    then have their data collapsed.</p>
    <p>Click the button multiple times and close / click the notifications
    to see what it does.</p>
    <p class="demo-btns">
      <button class="js-merge-notification" disabled>Merge Notification</button>
      <a class="button details-btn" href="/chapter-05/04-common-notification-patterns/#merging-notifications">Details &amp; Code</a>
    </p>

    <h6>Must show a Notification</h6>
    <p>Throughout the <a href="https://web-push-book.gauntface.com">Web Push
    Book</a> there are references to "having to show a notification". This is
    <i>almost</i> completely true. The one scenario where you
    <strong>don't</strong> need to show a notification is if the user
    is currently looking at your site.</p>
    <p>This example waits for 4 seconds and then iterates over the current
    windows for this site, checking to see if one of them is <i>focused</i>.
    If one is, we print a message to the console, otherwise we show a
    notification.</p>
    <p class="demo-btns">
      <button class="js-must-show-notification" disabled>Must Show Notification (4s Delay)</button>
      <a class="button details-btn" href="/chapter-05/04-common-notification-patterns/#the-exception-to-showing-a-notification">Details &amp; Code</a>
    </p>

    <h6>Send a Message to the Page</h6>
    <p>Once a notification is received you may want to send data to any
    of pages that are currently open. This example will wait 4s before
    triggering a fake push event. Then the push event will post a message
    to the page, which is printed to the console.</p>
    <p class="demo-btns">
      <button class="js-send-message-to-page" disabled>Send Message to Page (4s Delay)</button>
      <a class="button details-btn" href="/chapter-05/04-common-notification-patterns/#message-page-from-a-push-event">Details &amp; Code</a>
    </p>
  </main>

  <footer>
    <div class="footer-content">
      <section class="footer-bottom-row">
        <p><a href="https://web-push-book.gauntface.com/">Web Push Book</a> by <a href="https://gauntface.com/">Matt Gaunt</a> is licensed under <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a>.</p>
        <p><a href="https://github.com/gauntface/web-push-book">Source Hosted on Github</a></p>
      </section>
    </div>
  </footer>

  <script src="notification-examples.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-77119321-4', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
